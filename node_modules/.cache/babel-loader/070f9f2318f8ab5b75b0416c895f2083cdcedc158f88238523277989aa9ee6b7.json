{"ast":null,"code":"import _objectSpread from\"C:/Users/Venkata Sai Ram/OneDrive/Desktop/mern projects/food-del-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import Cookies from'js-cookie';import'./index.css';import{useState,useEffect}from'react';import appUrl from'../../context/storeContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const apiStatusContext={initial:\"INITIAL\",success:\"SUCCESS\",inProgress:\"PROGRESS\",failure:\"FAILURE\"};const CheckOut=()=>{const onSubmitForm=event=>{event.preventDefault();console.log('form submitted');};const[cartItemsData,setCartItemsData]=useState({apiStatus:apiStatusContext.initial,data:[],errorMsg:null});const jwtToken=Cookies.get('jwt_token');const getCartItems=async()=>{setCartItemsData(_objectSpread(_objectSpread({},cartItemsData),{},{apiStatus:apiStatusContext.inProgress}));const apiUrl=\"\".concat(appUrl,\"/cartItems\");const options={method:'GET',headers:{Authorization:\"Bearer \".concat(jwtToken)}};const response=await fetch(apiUrl,options);const data=await response.json();console.log(data);if(response.ok){setCartItemsData({apiStatus:apiStatusContext.success,data:data,errorMsg:null});}else{console.error('Failed to fetch cart items:',data.error);}};useEffect(()=>{getCartItems();},[]);const{data}=cartItemsData;const totalPrice=data.reduce((acc,item)=>acc+item.price*item.quantity,0);const gst=Math.ceil(totalPrice*0.18);const deliveryCharge=totalPrice>150?0:50;const totalAmount=totalPrice+gst+deliveryCharge;return/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"information-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"contact-text\",children:\"Contact Information\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitForm,className:\"checkout-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"phone\",name:\"phone\",required:true}),/*#__PURE__*/_jsx(\"h1\",{className:\"address-text\",children:\"Address\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\"Address Line 1:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address\",name:\"address\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address2\",children:\"Address Line 2:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address2\",name:\"address2\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pincode\",children:\"Pincode:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"pincode\",name:\"pincode\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"place-order-button\",children:\"Place Order\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"order-text\",children:\"Order Summary\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"order-list\",children:data.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"order-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-item-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imgUrl,alt:item.name,className:\"order-item-image\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"order-item-name\",children:item.name})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"order-item-total-price\",children:[\"Rs:\".concat(item.price,\" Total \\u20B9\").concat(item.price*item.quantity),\" \"]})]},item.cartId))}),/*#__PURE__*/_jsx(\"hr\",{className:\"order-hr\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"total-price-text\",children:\"Total Price: \\u20B9\".concat(totalPrice)}),/*#__PURE__*/_jsx(\"p\",{className:\"gst-text\",children:\"GST: \\u20B9\".concat(gst)}),/*#__PURE__*/_jsx(\"p\",{className:\"delivery-charge-text\",children:\"Delivery Charge: \\u20B9\".concat(deliveryCharge)}),/*#__PURE__*/_jsx(\"p\",{className:\"total-amount-text\",children:\"Total Amount: \\u20B9\".concat(totalAmount)})]})]})]});};export default CheckOut;","map":{"version":3,"names":["Cookies","useState","useEffect","appUrl","jsx","_jsx","jsxs","_jsxs","apiStatusContext","initial","success","inProgress","failure","CheckOut","onSubmitForm","event","preventDefault","console","log","cartItemsData","setCartItemsData","apiStatus","data","errorMsg","jwtToken","get","getCartItems","_objectSpread","apiUrl","concat","options","method","headers","Authorization","response","fetch","json","ok","error","totalPrice","reduce","acc","item","price","quantity","gst","Math","ceil","deliveryCharge","totalAmount","className","children","onSubmit","htmlFor","type","id","name","required","map","src","imgUrl","alt","cartId"],"sources":["C:/Users/Venkata Sai Ram/OneDrive/Desktop/mern projects/food-del-frontend/src/components/CheckOut/index.js"],"sourcesContent":["\r\nimport Cookies from 'js-cookie'\r\nimport './index.css'\r\nimport { useState, useEffect } from 'react'\r\nimport appUrl from '../../context/storeContext'\r\nconst apiStatusContext = {\r\n    initial: \"INITIAL\",\r\n    success: \"SUCCESS\",\r\n    inProgress: \"PROGRESS\",\r\n    failure: \"FAILURE\"\r\n}\r\nconst CheckOut = () => {\r\n    const onSubmitForm = (event) => {\r\n        event.preventDefault()\r\n        console.log('form submitted')\r\n    }\r\n    const [cartItemsData, setCartItemsData] = useState({\r\n        apiStatus: apiStatusContext.initial,\r\n        data: [],\r\n        errorMsg: null\r\n      })\r\n    const jwtToken = Cookies.get('jwt_token')\r\n    const getCartItems = async () => {\r\n        setCartItemsData({\r\n          ...cartItemsData,\r\n          apiStatus: apiStatusContext.inProgress\r\n        })\r\n        const apiUrl = `${appUrl}/cartItems`\r\n        const options = {\r\n          method: 'GET',\r\n          headers: {\r\n            Authorization: `Bearer ${jwtToken}`,\r\n          },\r\n        }\r\n        const response = await fetch(apiUrl, options)\r\n        const data = await response.json()\r\n        console.log(data)\r\n        if (response.ok) {\r\n          setCartItemsData({\r\n            apiStatus: apiStatusContext.success,\r\n            data: data,\r\n            errorMsg: null\r\n          })\r\n        } else {\r\n          console.error('Failed to fetch cart items:', data.error)\r\n        }\r\n      }\r\n    useEffect(() => {\r\n        getCartItems()\r\n      }, [])\r\n      const { data } = cartItemsData\r\n      const totalPrice = data.reduce((acc, item) => acc + item.price * item.quantity, 0)\r\n      const gst = Math.ceil(totalPrice * 0.18)\r\n      const deliveryCharge = totalPrice > 150 ? 0 : 50\r\n      const totalAmount = totalPrice + gst + deliveryCharge\r\n      \r\n    return (\r\n        <div className=\"checkout-container\">\r\n            <div className='information-container'>\r\n                <h1 className='contact-text'>Contact Information</h1>\r\n                <form onSubmit={onSubmitForm} className='checkout-form'>\r\n                    <label htmlFor=\"name\">Name:</label>\r\n                    <input type=\"text\" id=\"name\" name=\"name\" required />\r\n                    <label htmlFor=\"email\">Email:</label>\r\n                    <input type=\"email\" id=\"email\" name=\"email\" required />\r\n                    <label htmlFor=\"phone\">Phone:</label>\r\n                    <input type=\"tel\" id=\"phone\" name=\"phone\" required />\r\n\r\n                    <h1 className='address-text'>Address</h1>\r\n                    <label htmlFor=\"address\">Address Line 1:</label>\r\n                    <input type=\"text\" id=\"address\" name=\"address\" required />\r\n                    <label htmlFor=\"address2\">Address Line 2:</label>\r\n                    <input type=\"text\" id=\"address2\" name=\"address2\" />\r\n                    <label htmlFor='pincode'>Pincode:</label>\r\n                    <input type=\"text\" id=\"pincode\" name=\"pincode\" required />\r\n                    <button type=\"submit\" className='place-order-button'>Place Order</button>\r\n                   \r\n                </form>\r\n            </div>\r\n            <div className='order-container'>\r\n                <h1 className='order-text'>Order Summary</h1>\r\n                <ul className='order-list'>\r\n                    {data.map(item => (\r\n                        <li key={item.cartId} className='order-item'>\r\n                           <div className='order-item-image-container'><img src={item.imgUrl} alt={item.name} className='order-item-image'/>\r\n                            <h2 className='order-item-name'>{item.name}</h2></div>\r\n                            <p className='order-item-total-price'>{`Rs:${item.price} Total ₹${item.price * item.quantity}`} </p>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n                <hr className='order-hr'/>\r\n                {/* <h3 className='tip-text'>Tip Amount</h3>\r\n                <div className='tip-container'>\r\n                    <button className='tip-button'>10</button>\r\n                    <button className='tip-button'>20</button>\r\n                    <button className='tip-button'>30</button>\r\n                </div> */}\r\n                <div>\r\n                <p className='total-price-text'>{`Total Price: ₹${totalPrice}`}</p>\r\n                <p className='gst-text'>{`GST: ₹${gst}`}</p>\r\n                <p className='delivery-charge-text'>{`Delivery Charge: ₹${deliveryCharge}`}</p>\r\n                <p className='total-amount-text'>{`Total Amount: ₹${totalAmount}`}</p>\r\n                </div>\r\n                  </div>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckOut\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}