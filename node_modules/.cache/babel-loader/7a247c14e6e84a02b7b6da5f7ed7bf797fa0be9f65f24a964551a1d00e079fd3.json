{"ast":null,"code":"import{useState}from'react';import{useHistory}from'react-router-dom';import'./index.css';import appUrl from'../context/storeContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[email,setEmail]=useState('');const[error,setError]=useState('');const history=useHistory();const redirectToLogin=()=>{history.push('/login');};const onClickSubmit=async event=>{event.preventDefault();const url=\"\".concat(appUrl,\"/register\");const response=await fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,email,password})});console.log(response);if(response.ok){setTimeout(()=>{redirectToLogin();},3000);setError(\"Registration successful, redirecting to login...\");}else{setError(\"user already exists\");}setPassword('');setEmail('');setUsername('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onClickSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-button\",children:\"Register\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error})]})]});};export default Register;","map":{"version":3,"names":["useState","useHistory","appUrl","jsx","_jsx","jsxs","_jsxs","Register","username","setUsername","password","setPassword","email","setEmail","error","setError","history","redirectToLogin","push","onClickSubmit","event","preventDefault","url","concat","response","fetch","method","headers","body","JSON","stringify","console","log","ok","setTimeout","className","children","onSubmit","htmlFor","type","id","name","value","onChange","e","target","required"],"sources":["C:/Users/Venkata Sai Ram/OneDrive/Desktop/mern projects/food-del-frontend/src/Register/index.js"],"sourcesContent":["import {  useState } from 'react';\r\nimport { useHistory }  from 'react-router-dom';\r\nimport './index.css'\r\nimport appUrl from '../context/storeContext';\r\n\r\n\r\nconst Register = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [error, setError] = useState('');\r\n     const history = useHistory();\r\n    \r\n    const redirectToLogin = () => {\r\n        history.push('/login');\r\n    }\r\n    \r\n\r\n    const onClickSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const url = `${appUrl}/register`;\r\n        const response = await fetch(url, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                username,\r\n                email,\r\n                password,\r\n            }),\r\n        });\r\n        console.log(response)\r\n        if (response.ok) {\r\n            setTimeout(() =>{redirectToLogin()},3000);\r\n            setError(\"Registration successful, redirecting to login...\");\r\n\r\n        } else{\r\n            setError(\"user already exists\");\r\n        }\r\n\r\n        setPassword('');\r\n        setEmail('');\r\n        setUsername('');\r\n\r\n    }\r\n\r\n  \r\n    return (\r\n        <div className=\"register-container\">\r\n            <h1>Register</h1>\r\n            <form onSubmit={onClickSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"username\">Username:</label>\r\n                    <input type=\"text\" id=\"username\" name=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email:</label>\r\n                    <input type=\"email\" id=\"email\" name=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password:</label>\r\n                    <input type=\"password\" id=\"password\" name=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n                </div>\r\n                <button type=\"submit\" className='register-button'>Register</button>\r\n                {error && <p className=\"error-message\">{error}</p>}\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}