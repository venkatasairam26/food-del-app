{"ast":null,"code":"import{useState}from'react';import appUrl from'../../context/storeContext';import Cookies from'js-cookie';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductItem=props=>{const{productDetails}=props;const{productId,imgUrl,name,category,price}=productDetails;const[addCartItem,setCartItem]=useState(false);const showNotification=()=>{setCartItem(true);setTimeout(()=>{setCartItem(false);},3000);};const onAddItemCart=async()=>{const url=\"\".concat(appUrl,\"/cart\");const jwtToken=Cookies.get('jwt_token');const options={method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(jwtToken)},body:JSON.stringify({productId,quantity:1})};const response=await fetch(url,options);if(response.ok){showNotification();}else{const errorData=await response.json();console.error('Failed to add item to cart:',errorData.error);}};return/*#__PURE__*/_jsxs(\"li\",{className:\"product-item\",children:[addCartItem&&/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-added\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Item added to cart\"})}),/*#__PURE__*/_jsx(\"img\",{src:imgUrl,alt:name,className:\"product-image\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"product-name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"product-category\",children:category}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"\\u20B9\",price]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart-button\",onClick:onAddItemCart,children:\"Add to Cart\"})]})]},productId);};export default ProductItem;","map":{"version":3,"names":["useState","appUrl","Cookies","jsx","_jsx","jsxs","_jsxs","ProductItem","props","productDetails","productId","imgUrl","name","category","price","addCartItem","setCartItem","showNotification","setTimeout","onAddItemCart","url","concat","jwtToken","get","options","method","headers","Authorization","body","JSON","stringify","quantity","response","fetch","ok","errorData","json","console","error","className","children","src","alt","onClick"],"sources":["C:/Users/Venkata Sai Ram/OneDrive/Desktop/mern projects/food-del-frontend/src/components/ProductItems/index.js"],"sourcesContent":["import {useState} from 'react'\r\nimport appUrl from '../../context/storeContext'\r\nimport Cookies from 'js-cookie'\r\nimport './index.css'\r\n\r\n\r\n\r\nconst ProductItem = (props) => {\r\n    const { productDetails } = props\r\n    const { productId, imgUrl, name, category, price } = productDetails\r\n    const [addCartItem,setCartItem] = useState(false)\r\n\r\n    const showNotification = () => {\r\n        setCartItem(true)\r\n        setTimeout(() => {\r\n          setCartItem(false)\r\n        }, 3000)\r\n      }\r\n\r\n    const onAddItemCart = async () => {\r\n        const url = `${appUrl}/cart`\r\n        const jwtToken = Cookies.get('jwt_token')\r\n        const options = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${jwtToken}`,\r\n            },\r\n            body: JSON.stringify({\r\n                productId,\r\n                quantity: 1, \r\n            }),\r\n        }\r\n        const response = await fetch(url, options)\r\n        if (response.ok) {\r\n            showNotification()\r\n        } else {\r\n            const errorData = await response.json()\r\n            console.error('Failed to add item to cart:', errorData.error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li className=\"product-item\" key={productId}>\r\n            {addCartItem && <div className='cart-item-added'><h3>Item added to cart</h3></div>}\r\n            <img src={imgUrl} alt={name} className=\"product-image\" />\r\n            <div>\r\n                <h2 className=\"product-name\">{name}</h2>\r\n                <p className=\"product-category\">{category}</p>\r\n                <p className=\"product-price\">â‚¹{price}</p>\r\n                <button className=\"add-to-cart-button\" onClick={onAddItemCart}>Add to Cart</button>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ProductItem"],"mappings":"AAAA,OAAQA,QAAQ,KAAO,OAAO,CAC9B,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,aAAa,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAIpB,KAAM,CAAAC,WAAW,CAAIC,KAAK,EAAK,CAC3B,KAAM,CAAEC,cAAe,CAAC,CAAGD,KAAK,CAChC,KAAM,CAAEE,SAAS,CAAEC,MAAM,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,KAAM,CAAC,CAAGL,cAAc,CACnE,KAAM,CAACM,WAAW,CAACC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAAiB,gBAAgB,CAAGA,CAAA,GAAM,CAC3BD,WAAW,CAAC,IAAI,CAAC,CACjBE,UAAU,CAAC,IAAM,CACfF,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAEH,KAAM,CAAAG,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAC,GAAG,IAAAC,MAAA,CAAMpB,MAAM,SAAO,CAC5B,KAAM,CAAAqB,QAAQ,CAAGpB,OAAO,CAACqB,GAAG,CAAC,WAAW,CAAC,CACzC,KAAM,CAAAC,OAAO,CAAG,CACZC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAAN,MAAA,CAAYC,QAAQ,CACrC,CAAC,CACDM,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBpB,SAAS,CACTqB,QAAQ,CAAE,CACd,CAAC,CACL,CAAC,CACD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACb,GAAG,CAAEI,OAAO,CAAC,CAC1C,GAAIQ,QAAQ,CAACE,EAAE,CAAE,CACbjB,gBAAgB,CAAC,CAAC,CACtB,CAAC,IAAM,CACH,KAAM,CAAAkB,SAAS,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CACvCC,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAEH,SAAS,CAACG,KAAK,CAAC,CACjE,CACJ,CAAC,CAED,mBACIhC,KAAA,OAAIiC,SAAS,CAAC,cAAc,CAAAC,QAAA,EACvBzB,WAAW,eAAIX,IAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAACpC,IAAA,OAAAoC,QAAA,CAAI,oBAAkB,CAAI,CAAC,CAAK,CAAC,cAClFpC,IAAA,QAAKqC,GAAG,CAAE9B,MAAO,CAAC+B,GAAG,CAAE9B,IAAK,CAAC2B,SAAS,CAAC,eAAe,CAAE,CAAC,cACzDjC,KAAA,QAAAkC,QAAA,eACIpC,IAAA,OAAImC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAE5B,IAAI,CAAK,CAAC,cACxCR,IAAA,MAAGmC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAE3B,QAAQ,CAAI,CAAC,cAC9CP,KAAA,MAAGiC,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,QAAC,CAAC1B,KAAK,EAAI,CAAC,cACzCV,IAAA,WAAQmC,SAAS,CAAC,oBAAoB,CAACI,OAAO,CAAExB,aAAc,CAAAqB,QAAA,CAAC,aAAW,CAAQ,CAAC,EAClF,CAAC,GARwB9B,SAS9B,CAAC,CAEb,CAAC,CAED,cAAe,CAAAH,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}