{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Venkata Sai Ram\\\\OneDrive\\\\Desktop\\\\mern projects\\\\food-del-frontend\\\\src\\\\components\\\\ProductItems\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport appUrl from '../../context/storeContext';\nimport Cookies from 'js-cookie';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductItem = props => {\n  _s();\n  const {\n    productDetails\n  } = props;\n  const {\n    productId,\n    imgUrl,\n    name,\n    category,\n    price\n  } = productDetails;\n  const [addCartItem, setCartItem] = useState(false);\n  const showNotification = () => {\n    setCartItem(true);\n    setTimeout(() => {\n      setCartItem(false);\n    }, 3000);\n  };\n  const onAddItemCart = async () => {\n    const url = `${appUrl}/cart`;\n    const jwtToken = Cookies.get('jwt_token');\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${jwtToken}`\n      },\n      body: JSON.stringify({\n        productId,\n        quantity: 1\n      })\n    };\n    const response = await fetch(url, options);\n    if (response.ok) {\n      showNotification();\n    } else {\n      const errorData = await response.json();\n      console.error('Failed to add item to cart:', errorData.error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"product-item\",\n    children: [addCartItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-item-added\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Item added to cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 62\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: imgUrl,\n      alt: name,\n      className: \"product-image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"product-name\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"product-category\",\n        children: category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"product-price\",\n        children: [\"\\u20B9\", price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-to-cart-button\",\n        onClick: onAddItemCart,\n        children: \"Add to Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, productId, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductItem, \"kMnkXTgf/JTAIaNUdRNRNH4mnp4=\");\n_c = ProductItem;\nexport default ProductItem;\nvar _c;\n$RefreshReg$(_c, \"ProductItem\");","map":{"version":3,"names":["useState","appUrl","Cookies","jsxDEV","_jsxDEV","ProductItem","props","_s","productDetails","productId","imgUrl","name","category","price","addCartItem","setCartItem","showNotification","setTimeout","onAddItemCart","url","jwtToken","get","options","method","headers","Authorization","body","JSON","stringify","quantity","response","fetch","ok","errorData","json","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Venkata Sai Ram/OneDrive/Desktop/mern projects/food-del-frontend/src/components/ProductItems/index.js"],"sourcesContent":["import {useState} from 'react'\r\nimport appUrl from '../../context/storeContext'\r\nimport Cookies from 'js-cookie'\r\nimport './index.css'\r\n\r\n\r\n\r\nconst ProductItem = (props) => {\r\n    const { productDetails } = props\r\n    const { productId, imgUrl, name, category, price } = productDetails\r\n    const [addCartItem,setCartItem] = useState(false)\r\n\r\n    const showNotification = () => {\r\n        setCartItem(true)\r\n        setTimeout(() => {\r\n          setCartItem(false)\r\n        }, 3000)\r\n      }\r\n\r\n    const onAddItemCart = async () => {\r\n        const url = `${appUrl}/cart`\r\n        const jwtToken = Cookies.get('jwt_token')\r\n        const options = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${jwtToken}`,\r\n            },\r\n            body: JSON.stringify({\r\n                productId,\r\n                quantity: 1, \r\n            }),\r\n        }\r\n        const response = await fetch(url, options)\r\n        if (response.ok) {\r\n            showNotification()\r\n        } else {\r\n            const errorData = await response.json()\r\n            console.error('Failed to add item to cart:', errorData.error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li className=\"product-item\" key={productId}>\r\n            {addCartItem && <div className='cart-item-added'><h3>Item added to cart</h3></div>}\r\n            <img src={imgUrl} alt={name} className=\"product-image\" />\r\n            <div>\r\n                <h2 className=\"product-name\">{name}</h2>\r\n                <p className=\"product-category\">{category}</p>\r\n                <p className=\"product-price\">â‚¹{price}</p>\r\n                <button className=\"add-to-cart-button\" onClick={onAddItemCart}>Add to Cart</button>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ProductItem"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}